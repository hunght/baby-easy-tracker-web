import type {
  ScheduleType,
  ScheduleData,
  SleepRequirement,
  AgeScheduleRecommendation,
} from './easy-types';

// Complete Schedule Definitions
export const SCHEDULES: Record<ScheduleType, ScheduleData> = {
  E3: {
    id: 'E3',
    name: 'E.A.S.Y. 3',
    nameVi: 'E.A.S.Y. 3',
    ageRange: { min: 0, max: 6 },
    wakeWindows: [45, 45, 45, 45],
    napCount: 4,
    typicalNapDurations: [120, 120, 120, 30],
    totalWakeTarget: { min: 6, max: 7 },
    totalSleepTarget: { min: 16, max: 18 },
    sleepDebtThreshold: 15,
    description: 'Newborn phase - survival mode, establish feeding',
    descriptionVi: 'Giai đoạn sơ sinh - chế độ sinh tồn, thiết lập bú',
    schedule: [
      { time: '07:00', activity: 'E+A', duration: 45, note: 'Feed + gentle activity' },
      { time: '07:45', activity: 'S', duration: 120, note: 'Nap 1' },
      { time: '10:00', activity: 'E+A', duration: 45, note: 'Feed + tummy time' },
      { time: '10:45', activity: 'S', duration: 120, note: 'Nap 2' },
      { time: '13:00', activity: 'E+A', duration: 45, note: 'Feed + activity' },
      { time: '13:45', activity: 'S', duration: 120, note: 'Nap 3' },
      { time: '16:00', activity: 'E+A', duration: 45, note: 'Feed + bath' },
      { time: '16:45', activity: 'S', duration: 30, note: 'Catnap' },
      { time: '17:30', activity: 'A', duration: 90, note: 'Wind-down routine' },
      { time: '19:00', activity: 'E+NIGHT', duration: 720, note: 'Feed + night sleep' },
    ],
    sleepDebtSigns: [
      'Crying during witching hour (5-7pm)',
      'Arching back while feeding',
      'Constant startling',
      'Cannot be soothed',
    ],
  },

  'E3.15': {
    id: 'E3.15',
    name: 'E.A.S.Y. 3.15 (Bridge)',
    nameVi: 'E.A.S.Y. 3.15 (Cầu nối)',
    ageRange: { min: 6, max: 8 },
    wakeWindows: [70, 70, 70, 70],
    napCount: 4,
    typicalNapDurations: [105, 105, 75, 30],
    totalWakeTarget: { min: 7, max: 7.5 },
    totalSleepTarget: { min: 15.5, max: 17 },
    sleepDebtThreshold: 14.5,
    description: 'Transition phase - baby becoming more alert',
    descriptionVi: 'Giai đoạn chuyển tiếp - bé tỉnh táo hơn',
    schedule: [
      { time: '07:00', activity: 'E+A', duration: 70, note: 'WW = 1h10m' },
      { time: '08:10', activity: 'S', duration: 105, note: 'Nap 1 (1.75h)' },
      { time: '10:15', activity: 'E+A', duration: 70, note: 'Feed + tummy time 3-5min' },
      { time: '11:25', activity: 'S', duration: 105, note: 'Nap 2' },
      { time: '13:30', activity: 'E+A', duration: 70, note: 'Feed + play' },
      { time: '14:40', activity: 'S', duration: 75, note: 'Nap 3' },
      { time: '16:15', activity: 'E+A', duration: 75, note: 'Feed + bath' },
      { time: '17:30', activity: 'S', duration: 30, note: 'Catnap (optional)' },
      { time: '18:00', activity: 'A', duration: 60, note: 'Wind-down' },
      { time: '19:00', activity: 'E+NIGHT', duration: 720, note: 'Night sleep' },
    ],
    sleepDebtSigns: ['20min catnaps', 'Difficulty falling asleep at night', 'Crying before sleep'],
  },

  'E3.5': {
    id: 'E3.5',
    name: 'E.A.S.Y. 3.5',
    nameVi: 'E.A.S.Y. 3.5',
    ageRange: { min: 6, max: 10 },
    wakeWindows: [90, 90, 90, 90],
    napCount: 4,
    typicalNapDurations: [105, 105, 75, 20],
    totalWakeTarget: { min: 7.5, max: 8 },
    totalSleepTarget: { min: 15.5, max: 16.5 },
    sleepDebtThreshold: 14.5,
    schedule: [
      { time: '07:00', activity: 'E+A', duration: 90, note: 'WW = 1h30-1h45' },
      { time: '08:30', activity: 'S', duration: 120, note: 'Nap 1' },
      { time: '10:30', activity: 'E+A', duration: 90, note: 'Feed + tummy time 5min' },
      { time: '12:00', activity: 'S', duration: 120, note: 'Nap 2' },
      { time: '14:00', activity: 'E+A', duration: 90, note: 'Feed + play' },
      { time: '15:30', activity: 'S', duration: 90, note: 'Nap 3' },
      { time: '17:00', activity: 'E+A', duration: 60, note: 'Feed + bath' },
      { time: '18:00', activity: 'S', duration: 20, note: 'Catnap (optional)' },
      { time: '18:30', activity: 'A', duration: 60, note: 'Wind-down' },
      { time: '19:30', activity: 'E+NIGHT', duration: 690, note: 'Night sleep' },
    ],
    sleepDebtSigns: ['Short naps (30min)', 'Hard to fall asleep at night', 'Fussy before naps'],
  },

  'E3.5+4': {
    id: 'E3.5+4',
    name: 'E.A.S.Y. 3.5 + 4 (Hybrid)',
    nameVi: 'E.A.S.Y. 3.5 + 4 (Kết hợp)',
    ageRange: { min: 8, max: 12 },
    wakeWindows: [90, 105, 120, 90],
    napCount: 3,
    typicalNapDurations: [120, 120, 45],
    totalWakeTarget: { min: 7.5, max: 8.5 },
    totalSleepTarget: { min: 15, max: 16 },
    sleepDebtThreshold: 14.5,
    transitionTip: 'Goal: Eliminate Nap 4 completely, prepare for 3-nap schedule',
    schedule: [
      { time: '07:00', activity: 'E+A', duration: 90, note: 'WW morning = 1h30 (E3.5 style)' },
      { time: '08:30', activity: 'S', duration: 120, note: 'Nap 1' },
      { time: '10:30', activity: 'E+A', duration: 105, note: 'WW = 1h45' },
      { time: '12:15', activity: 'S', duration: 120, note: 'Nap 2' },
      { time: '14:15', activity: 'E+A', duration: 120, note: 'WW afternoon = 2h (E4 style)' },
      { time: '16:15', activity: 'S', duration: 45, note: 'Nap 3 (short)' },
      { time: '17:00', activity: 'E+A', duration: 120, note: 'Feed + bath + wind-down' },
      { time: '19:30', activity: 'E+NIGHT', duration: 690, note: 'Night sleep' },
    ],
  },

  'E3.75': {
    id: 'E3.75',
    name: 'E.A.S.Y. 3.75',
    nameVi: 'E.A.S.Y. 3.75',
    ageRange: { min: 8, max: 12 },
    wakeWindows: [105, 105, 105, 105],
    napCount: 3,
    typicalNapDurations: [105, 105, 60],
    totalWakeTarget: { min: 6.5, max: 7 },
    totalSleepTarget: { min: 15, max: 16 },
    sleepDebtThreshold: 14,
    warning: 'If baby catnaps (30min), this schedule breaks. Need aggressive resettling.',
    schedule: [
      { time: '07:00', activity: 'E+A', duration: 105, note: 'WW = 1h45 uniform' },
      { time: '08:45', activity: 'S', duration: 120, note: 'Nap 1' },
      { time: '10:45', activity: 'E+A', duration: 105, note: 'Feed + activity' },
      { time: '12:30', activity: 'S', duration: 120, note: 'Nap 2' },
      { time: '14:30', activity: 'E+A', duration: 105, note: 'Feed + play' },
      { time: '16:15', activity: 'S', duration: 60, note: 'Nap 3' },
      { time: '17:15', activity: 'E+A', duration: 105, note: 'Feed + bath' },
      { time: '19:00', activity: 'A', duration: 30, note: 'Wind-down' },
      { time: '19:30', activity: 'E+NIGHT', duration: 690, note: 'Night sleep' },
    ],
  },

  E4: {
    id: 'E4',
    name: 'E.A.S.Y. 4 (Standard)',
    nameVi: 'E.A.S.Y. 4 (Tiêu chuẩn)',
    ageRange: { min: 10, max: 17 },
    wakeWindows: [120, 120, 120, 90],
    napCount: 3,
    typicalNapDurations: [120, 120, 30],
    totalWakeTarget: { min: 8, max: 9 },
    totalSleepTarget: { min: 14.5, max: 15.5 },
    sleepDebtThreshold: 14,
    requirements: 'Baby must be 6kg+ and able to stay awake 2 hours',
    description: 'Backbone schedule - most stable period',
    descriptionVi: 'Lịch xương sống - giai đoạn ổn định nhất',
    schedule: [
      { time: '07:00', activity: 'E+A', duration: 120, note: 'Feed (Meal 1) | WW = 2h' },
      { time: '09:00', activity: 'S', duration: 120, note: 'Nap 1 (1.5-2h)' },
      { time: '11:00', activity: 'E+A', duration: 120, note: 'Feed (Meal 2) | WW = 2h' },
      { time: '13:00', activity: 'S', duration: 120, note: 'Nap 2 (1.5-2h)' },
      { time: '15:00', activity: 'E+A', duration: 120, note: 'Feed (Meal 3) | WW = 2h' },
      { time: '17:00', activity: 'S', duration: 30, note: 'Catnap (30-45min)' },
      { time: '17:30', activity: 'A', duration: 90, note: 'Bath (NO feeding)' },
      { time: '19:00', activity: 'E+NIGHT', duration: 720, note: 'Feed (Meal 4) + Night' },
    ],
    sleepDebtSigns: [
      'Multiple night wakings (every 2h)',
      'Early morning waking (4-5am)',
      'Crying at bedtime',
    ],
  },

  'E4_2-2-2-2.5': {
    id: 'E4_2-2-2-2.5',
    name: 'E.A.S.Y. 4 Variant (2-2-2-2.5)',
    nameVi: 'E.A.S.Y. 4 Biến thể (2-2-2-2.5)',
    ageRange: { min: 14, max: 20 },
    wakeWindows: [120, 120, 120, 150],
    napCount: 3,
    typicalNapDurations: [120, 120, 20],
    totalWakeTarget: { min: 8.5, max: 9 },
    totalSleepTarget: { min: 14.5, max: 15.5 },
    sleepDebtThreshold: 14,
    purpose: 'Increase sleep pressure for night - 2h before bed is no longer enough',
    schedule: [
      { time: '07:00', activity: 'E+A', duration: 120, note: 'WW1 = 2h' },
      { time: '09:00', activity: 'S', duration: 120, note: 'Nap 1' },
      { time: '11:00', activity: 'E+A', duration: 120, note: 'WW2 = 2h' },
      { time: '13:00', activity: 'S', duration: 120, note: 'Nap 2' },
      { time: '15:00', activity: 'E+A', duration: 120, note: 'WW3 = 2h' },
      { time: '17:00', activity: 'S', duration: 20, note: 'Catnap (shortened to 20-30min)' },
      { time: '17:20', activity: 'A', duration: 160, note: 'WW4 = 2.5h (extended for sleep pressure)' },
      { time: '20:00', activity: 'E+NIGHT', duration: 660, note: 'Night sleep' },
    ],
  },

  'E4_2-2.15-2-2.15': {
    id: 'E4_2-2.15-2-2.15',
    name: 'E.A.S.Y. 4 Micro-Adjust (2-2.15-2-2.15)',
    nameVi: 'E.A.S.Y. 4 Vi chỉnh (2-2.15-2-2.15)',
    ageRange: { min: 14, max: 20 },
    wakeWindows: [120, 135, 120, 135],
    napCount: 3,
    typicalNapDurations: [120, 120, 30],
    totalWakeTarget: { min: 8.5, max: 9 },
    totalSleepTarget: { min: 14.5, max: 15.5 },
    sleepDebtThreshold: 14,
    purpose: 'For sensitive babies - 15min increments instead of 30min',
    useWhen: 'Baby takes 20-30min to fall asleep at Nap 2 and bedtime',
    schedule: [
      { time: '07:00', activity: 'E+A', duration: 120, note: 'WW1 = 2h' },
      { time: '09:00', activity: 'S', duration: 120, note: 'Nap 1' },
      { time: '11:00', activity: 'E+A', duration: 135, note: 'WW2 = 2h15m (+15min)' },
      { time: '13:15', activity: 'S', duration: 120, note: 'Nap 2' },
      { time: '15:15', activity: 'E+A', duration: 120, note: 'WW3 = 2h' },
      { time: '17:15', activity: 'S', duration: 30, note: 'Catnap' },
      { time: '17:45', activity: 'A', duration: 135, note: 'WW4 = 2h15m' },
      { time: '20:00', activity: 'E+NIGHT', duration: 660, note: 'Night sleep' },
    ],
  },

  'E4_2-2-2.15-2.15': {
    id: 'E4_2-2-2.15-2.15',
    name: 'E.A.S.Y. 4 Variant (2-2-2.15-2.15)',
    nameVi: 'E.A.S.Y. 4 Biến thể (2-2-2.15-2.15)',
    ageRange: { min: 14, max: 20 },
    wakeWindows: [120, 120, 135, 135],
    napCount: 3,
    typicalNapDurations: [120, 120, 30],
    totalWakeTarget: { min: 8.5, max: 9 },
    totalSleepTarget: { min: 14.5, max: 15.5 },
    sleepDebtThreshold: 14,
    purpose: 'Extend WW in second half of day only',
    schedule: [
      { time: '07:00', activity: 'E+A', duration: 120, note: 'WW1 = 2h' },
      { time: '09:00', activity: 'S', duration: 120, note: 'Nap 1' },
      { time: '11:00', activity: 'E+A', duration: 120, note: 'WW2 = 2h' },
      { time: '13:00', activity: 'S', duration: 120, note: 'Nap 2' },
      { time: '15:00', activity: 'E+A', duration: 135, note: 'WW3 = 2h15m' },
      { time: '17:15', activity: 'S', duration: 30, note: 'Catnap' },
      { time: '17:45', activity: 'A', duration: 135, note: 'WW4 = 2h15m' },
      { time: '20:00', activity: 'E+NIGHT', duration: 660, note: 'Night sleep' },
    ],
  },

  'E2.5-2.5-3': {
    id: 'E2.5-2.5-3',
    name: 'E.A.S.Y. 2.5-2.5-3 (Bridge to 2-3-4)',
    nameVi: 'E.A.S.Y. 2.5-2.5-3 (Cầu nối đến 2-3-4)',
    ageRange: { min: 16, max: 26 },
    wakeWindows: [150, 150, 180],
    napCount: 2,
    typicalNapDurations: [120, 120],
    totalWakeTarget: { min: 8, max: 8.5 },
    totalSleepTarget: { min: 14, max: 15 },
    sleepDebtThreshold: 13.5,
    purpose: 'First step after dropping Nap 3, before full 2-3-4',
    schedule: [
      { time: '07:00', activity: 'E+A', duration: 150, note: 'WW1 = 2.5h' },
      { time: '09:30', activity: 'S', duration: 120, note: 'Nap 1' },
      { time: '11:30', activity: 'E+A', duration: 150, note: 'WW2 = 2.5h' },
      { time: '14:00', activity: 'S', duration: 120, note: 'Nap 2' },
      { time: '16:00', activity: 'E+A', duration: 180, note: 'WW3 = 3h' },
      { time: '18:00', activity: 'A', duration: 60, note: 'Dinner (if solids)' },
      { time: '19:00', activity: 'E+NIGHT', duration: 720, note: 'Night sleep' },
    ],
  },

  'E2-2.5-3.5': {
    id: 'E2-2.5-3.5',
    name: 'E.A.S.Y. 2-2.5-3.5 Variant',
    nameVi: 'E.A.S.Y. 2-2.5-3.5 Biến thể',
    ageRange: { min: 16, max: 26 },
    wakeWindows: [120, 150, 210],
    napCount: 2,
    typicalNapDurations: [120, 120],
    totalWakeTarget: { min: 8, max: 9 },
    totalSleepTarget: { min: 14, max: 15 },
    sleepDebtThreshold: 13.5,
    schedule: [
      { time: '07:00', activity: 'E+A', duration: 120, note: 'WW1 = 2h' },
      { time: '09:00', activity: 'S', duration: 120, note: 'Nap 1' },
      { time: '11:00', activity: 'E+A', duration: 150, note: 'WW2 = 2.5h' },
      { time: '13:30', activity: 'S', duration: 120, note: 'Nap 2' },
      { time: '15:30', activity: 'E+A', duration: 210, note: 'WW3 = 3.5h' },
      { time: '18:00', activity: 'A', duration: 60, note: 'Dinner' },
      { time: '19:00', activity: 'E+NIGHT', duration: 720, note: 'Night sleep' },
    ],
  },

  'E2-3-3': {
    id: 'E2-3-3',
    name: 'E.A.S.Y. 2-3-3 Variant',
    nameVi: 'E.A.S.Y. 2-3-3 Biến thể',
    ageRange: { min: 16, max: 26 },
    wakeWindows: [120, 180, 180],
    napCount: 2,
    typicalNapDurations: [120, 120],
    totalWakeTarget: { min: 8, max: 8.5 },
    totalSleepTarget: { min: 14, max: 15 },
    sleepDebtThreshold: 13.5,
    purpose: 'For babies not yet ready for 4h final wake window',
    schedule: [
      { time: '07:00', activity: 'E+A', duration: 120, note: 'WW1 = 2h' },
      { time: '09:00', activity: 'S', duration: 120, note: 'Nap 1' },
      { time: '11:00', activity: 'E+A', duration: 180, note: 'WW2 = 3h' },
      { time: '14:00', activity: 'S', duration: 120, note: 'Nap 2' },
      { time: '16:00', activity: 'E+A', duration: 180, note: 'WW3 = 3h (not ready for 4h)' },
      { time: '18:30', activity: 'A', duration: 30, note: 'Dinner' },
      { time: '19:00', activity: 'E+NIGHT', duration: 720, note: 'Night sleep' },
    ],
  },

  'E2-2.5-4': {
    id: 'E2-2.5-4',
    name: 'E.A.S.Y. 2-2.5-4 Variant',
    nameVi: 'E.A.S.Y. 2-2.5-4 Biến thể',
    ageRange: { min: 16, max: 26 },
    wakeWindows: [120, 150, 240],
    napCount: 2,
    typicalNapDurations: [120, 120],
    totalWakeTarget: { min: 8.5, max: 9 },
    totalSleepTarget: { min: 14, max: 15 },
    sleepDebtThreshold: 13.5,
    schedule: [
      { time: '07:00', activity: 'E+A', duration: 120, note: 'WW1 = 2h' },
      { time: '09:00', activity: 'S', duration: 120, note: 'Nap 1' },
      { time: '11:00', activity: 'E+A', duration: 150, note: 'WW2 = 2.5h' },
      { time: '13:30', activity: 'S', duration: 120, note: 'Nap 2' },
      { time: '15:30', activity: 'E+A', duration: 240, note: 'WW3 = 4h' },
      { time: '18:30', activity: 'A', duration: 60, note: 'Dinner' },
      { time: '19:30', activity: 'E+NIGHT', duration: 690, note: 'Night sleep' },
    ],
  },

  E4_delayed30: {
    id: 'E4_delayed30',
    name: 'E.A.S.Y. 4 Delayed 30min',
    nameVi: 'E.A.S.Y. 4 Trễ 30 phút',
    ageRange: { min: 16, max: 26 },
    wakeWindows: [120, 150, 150, 90],
    napCount: 3,
    typicalNapDurations: [120, 120, 15],
    totalWakeTarget: { min: 8.5, max: 9 },
    totalSleepTarget: { min: 14, max: 15 },
    sleepDebtThreshold: 13.5,
    purpose: 'Add 30min to middle WW while keeping micro-nap option',
    schedule: [
      { time: '07:00', activity: 'E+A', duration: 120, note: 'WW1 = 2h' },
      { time: '09:00', activity: 'S', duration: 120, note: 'Nap 1' },
      { time: '11:00', activity: 'E+A', duration: 150, note: 'WW2 = 2h30m (+30min)' },
      { time: '13:30', activity: 'S', duration: 120, note: 'Nap 2' },
      { time: '15:30', activity: 'E+A', duration: 150, note: 'WW3 = 2h30m' },
      { time: '18:00', activity: 'S', duration: 15, note: 'Micro-nap if needed' },
      { time: '18:30', activity: 'A', duration: 60, note: 'Bath + wind-down' },
      { time: '19:30', activity: 'E+NIGHT', duration: 690, note: 'Night sleep' },
    ],
  },

  'E2-3-4': {
    id: 'E2-3-4',
    name: 'E.A.S.Y. 2-3-4 (GOLD STANDARD)',
    nameVi: 'E.A.S.Y. 2-3-4 (TIÊU CHUẨN VÀNG)',
    ageRange: { min: 16, max: 44 },
    wakeWindows: [120, 180, 240],
    napCount: 2,
    typicalNapDurations: [120, 120],
    totalWakeTarget: { min: 9, max: 10 },
    totalSleepTarget: { min: 14, max: 15 },
    sleepDebtThreshold: 13.5,
    isGoldStandard: true,
    description: 'The most popular schedule for 6-9 month babies',
    descriptionVi: 'Lịch phổ biến nhất cho bé 6-9 tháng',
    schedule: [
      { time: '07:00', activity: 'E', duration: 30, note: 'Milk/formula | WW1 = 2h' },
      { time: '07:30', activity: 'A', duration: 90, note: 'Activity' },
      { time: '09:00', activity: 'S', duration: 120, note: 'Nap 1 (1.5-2h) - MOST IMPORTANT' },
      { time: '11:00', activity: 'E', duration: 30, note: 'Solids + milk | WW2 = 3h' },
      { time: '11:30', activity: 'A', duration: 150, note: 'Activity' },
      { time: '14:00', activity: 'S', duration: 120, note: 'Nap 2 (1.5-2h)' },
      { time: '16:00', activity: 'E', duration: 30, note: 'Milk | WW3 = 4h' },
      { time: '16:30', activity: 'A', duration: 120, note: 'Activity' },
      { time: '18:30', activity: 'A', duration: 30, note: 'Dinner (solids)' },
      { time: '19:30', activity: 'E+NIGHT', duration: 690, note: 'Milk + night sleep' },
    ],
    sleepDebtSigns: [
      'Refuses Nap 3 but overtired at bedtime',
      'Split night (awake 1-2h middle of night)',
      'Restless sleep',
    ],
  },

  'E2.5-3-4': {
    id: 'E2.5-3-4',
    name: 'E.A.S.Y. 2.5-3-4',
    nameVi: 'E.A.S.Y. 2.5-3-4',
    ageRange: { min: 26, max: 44 },
    wakeWindows: [150, 180, 240],
    napCount: 2,
    typicalNapDurations: [90, 120],
    totalWakeTarget: { min: 9.5, max: 10 },
    totalSleepTarget: { min: 13.5, max: 14.5 },
    sleepDebtThreshold: 13,
    purpose: 'Increase morning WW to 2.5h for better Nap 1, reduce early waking',
    schedule: [
      { time: '07:00', activity: 'E+A', duration: 150, note: 'WW1 = 2.5h' },
      { time: '09:30', activity: 'S', duration: 90, note: 'Nap 1 (1.5h)' },
      { time: '11:00', activity: 'E+A', duration: 180, note: 'Solids + milk | WW2 = 3h' },
      { time: '14:00', activity: 'S', duration: 120, note: 'Nap 2' },
      { time: '16:00', activity: 'E+A', duration: 240, note: 'Milk | WW3 = 4h' },
      { time: '18:00', activity: 'A', duration: 120, note: 'Dinner + bath' },
      { time: '20:00', activity: 'E+NIGHT', duration: 660, note: 'Night sleep' },
    ],
    sleepDebtSigns: ['Early rising (5am consistently)', 'Nap 1 becomes short (30min)'],
  },

  'E2.5-3-4.5': {
    id: 'E2.5-3-4.5',
    name: 'E.A.S.Y. 2.5-3-4.5',
    nameVi: 'E.A.S.Y. 2.5-3-4.5',
    ageRange: { min: 26, max: 44 },
    wakeWindows: [150, 180, 270],
    napCount: 2,
    typicalNapDurations: [90, 120],
    totalWakeTarget: { min: 10, max: 10.5 },
    totalSleepTarget: { min: 13.5, max: 14 },
    sleepDebtThreshold: 13,
    purpose: 'Extended afternoon WW for babies with high sleep needs',
    schedule: [
      { time: '07:00', activity: 'E+A', duration: 150, note: 'WW1 = 2.5h' },
      { time: '09:30', activity: 'S', duration: 90, note: 'Nap 1' },
      { time: '11:00', activity: 'E+A', duration: 180, note: 'WW2 = 3h' },
      { time: '14:00', activity: 'S', duration: 120, note: 'Nap 2' },
      { time: '16:00', activity: 'E+A', duration: 270, note: 'WW3 = 4.5h' },
      { time: '18:30', activity: 'A', duration: 120, note: 'Dinner + bath' },
      { time: '20:30', activity: 'E+NIGHT', duration: 630, note: 'Night sleep' },
    ],
  },

  'E2.5-2.5-4': {
    id: 'E2.5-2.5-4',
    name: 'E.A.S.Y. 2.5-2.5-4',
    nameVi: 'E.A.S.Y. 2.5-2.5-4',
    ageRange: { min: 26, max: 44 },
    wakeWindows: [150, 150, 240],
    napCount: 2,
    typicalNapDurations: [120, 120],
    totalWakeTarget: { min: 9, max: 9.5 },
    totalSleepTarget: { min: 13.5, max: 14.5 },
    sleepDebtThreshold: 13,
    purpose: 'For babies whose Nap 1 is too long (>2h), pushing Nap 2 too late',
    schedule: [
      { time: '07:00', activity: 'E+A', duration: 150, note: 'WW1 = 2.5h' },
      { time: '09:30', activity: 'S', duration: 120, note: 'Nap 1 (may be long: 2h)' },
      { time: '11:30', activity: 'E+A', duration: 150, note: 'WW2 = 2.5h (shortened)' },
      { time: '14:00', activity: 'S', duration: 120, note: 'Nap 2' },
      { time: '16:00', activity: 'E+A', duration: 240, note: 'WW3 = 4h' },
      { time: '18:30', activity: 'A', duration: 90, note: 'Dinner + bath' },
      { time: '20:00', activity: 'E+NIGHT', duration: 660, note: 'Night sleep' },
    ],
  },

  'E3-3-4': {
    id: 'E3-3-4',
    name: 'E.A.S.Y. 3-3-4',
    nameVi: 'E.A.S.Y. 3-3-4',
    ageRange: { min: 40, max: 52 },
    wakeWindows: [180, 180, 240],
    napCount: 2,
    typicalNapDurations: [75, 105],
    totalWakeTarget: { min: 10, max: 10.5 },
    totalSleepTarget: { min: 13, max: 14 },
    sleepDebtThreshold: 12.5,
    description: 'Pre-toddler schedule, preparing for 1-nap transition',
    descriptionVi: 'Lịch trước tuổi chập chững, chuẩn bị chuyển sang 1 giấc',
    warning:
      'Baby may fight naps (12-month regression). DO NOT drop to 1 nap yet! Maintain 2 naps until 12-14 months minimum.',
    schedule: [
      { time: '07:00', activity: 'E+A', duration: 180, note: 'Breakfast + milk | WW1 = 3h' },
      { time: '10:00', activity: 'S', duration: 75, note: 'Nap 1 (1-1.5h)' },
      { time: '11:15', activity: 'E+A', duration: 180, note: 'Lunch + milk | WW2 = 3h' },
      { time: '14:15', activity: 'S', duration: 105, note: 'Nap 2 (1.5-2h)' },
      { time: '16:00', activity: 'E+A', duration: 240, note: 'Snack + milk | WW3 = 4h' },
      { time: '18:00', activity: 'A', duration: 120, note: 'Dinner + bath' },
      { time: '20:00', activity: 'E+NIGHT', duration: 660, note: 'Night sleep' },
    ],
    sleepDebtSigns: ['Intense sleep fighting', 'Standing in crib screaming', 'Night terrors'],
  },

  'E56_3.5-3-4': {
    id: 'E56_3.5-3-4',
    name: 'E.A.S.Y. 5-6 Variant (3.5-3-4)',
    nameVi: 'E.A.S.Y. 5-6 Biến thể (3.5-3-4)',
    ageRange: { min: 51, max: 57 },
    wakeWindows: [210, 180, 240],
    napCount: 2,
    typicalNapDurations: [75, 90],
    totalWakeTarget: { min: 10.5, max: 11 },
    totalSleepTarget: { min: 12.5, max: 13.5 },
    sleepDebtThreshold: 12,
    schedule: [
      { time: '07:00', activity: 'E+A', duration: 210, note: 'Breakfast | WW1 = 3.5h' },
      { time: '10:30', activity: 'S', duration: 75, note: 'Nap 1 (1-1.5h)' },
      { time: '11:45', activity: 'E+A', duration: 180, note: 'Lunch | WW2 = 3h' },
      { time: '14:45', activity: 'S', duration: 90, note: 'Nap 2 (1-1.5h)' },
      { time: '16:15', activity: 'E+A', duration: 240, note: 'Snack | WW3 = 4h' },
      { time: '18:00', activity: 'A', duration: 120, note: 'Dinner + bath' },
      { time: '20:15', activity: 'E+NIGHT', duration: 645, note: 'Night sleep' },
    ],
  },

  'E56_3-3-4.5': {
    id: 'E56_3-3-4.5',
    name: 'E.A.S.Y. 5-6 Variant (3-3-4.5)',
    nameVi: 'E.A.S.Y. 5-6 Biến thể (3-3-4.5)',
    ageRange: { min: 51, max: 57 },
    wakeWindows: [180, 180, 270],
    napCount: 2,
    typicalNapDurations: [60, 90],
    totalWakeTarget: { min: 10.5, max: 11 },
    totalSleepTarget: { min: 12.5, max: 13.5 },
    sleepDebtThreshold: 12,
    schedule: [
      { time: '07:00', activity: 'E+A', duration: 180, note: 'WW1 = 3h' },
      { time: '10:00', activity: 'S', duration: 60, note: 'Nap 1 (1h)' },
      { time: '11:00', activity: 'E+A', duration: 180, note: 'Lunch | WW2 = 3h' },
      { time: '14:00', activity: 'S', duration: 90, note: 'Nap 2 (1.5h)' },
      { time: '15:30', activity: 'E+A', duration: 270, note: 'WW3 = 4.5h' },
      { time: '18:00', activity: 'A', duration: 120, note: 'Dinner + bath' },
      { time: '20:00', activity: 'E+NIGHT', duration: 660, note: 'Night sleep' },
    ],
  },

  'E56_3.15-3.15-4': {
    id: 'E56_3.15-3.15-4',
    name: 'E.A.S.Y. 5-6 Variant (3.15-3.15-4)',
    nameVi: 'E.A.S.Y. 5-6 Biến thể (3.15-3.15-4)',
    ageRange: { min: 51, max: 57 },
    wakeWindows: [195, 195, 240],
    napCount: 2,
    typicalNapDurations: [60, 90],
    totalWakeTarget: { min: 10.5, max: 11 },
    totalSleepTarget: { min: 12.5, max: 13.5 },
    sleepDebtThreshold: 12,
    schedule: [
      { time: '07:00', activity: 'E+A', duration: 195, note: 'WW1 = 3h15m' },
      { time: '10:15', activity: 'S', duration: 60, note: 'Nap 1' },
      { time: '11:15', activity: 'E+A', duration: 195, note: 'WW2 = 3h15m' },
      { time: '14:30', activity: 'S', duration: 90, note: 'Nap 2' },
      { time: '16:00', activity: 'E+A', duration: 240, note: 'WW3 = 4h' },
      { time: '18:00', activity: 'A', duration: 120, note: 'Dinner + bath' },
      { time: '20:00', activity: 'E+NIGHT', duration: 660, note: 'Night sleep' },
    ],
  },

  'E56_4-6': {
    id: 'E56_4-6',
    name: 'E.A.S.Y. 5-6 Variant 4-6 (Rescue Schedule)',
    nameVi: 'E.A.S.Y. 5-6 Biến thể 4-6 (Lịch cứu hộ)',
    ageRange: { min: 56, max: 70 },
    wakeWindows: [240, 360],
    napCount: 1,
    typicalNapDurations: [150],
    totalWakeTarget: { min: 10, max: 11 },
    totalSleepTarget: { min: 12.5, max: 13.5 },
    sleepDebtThreshold: 12,
    purpose: 'For babies who dropped Nap 1 but cannot stay awake full 5h in morning',
    schedule: [
      { time: '07:00', activity: 'E+A', duration: 240, note: 'Breakfast | WW1 = 4h (not ready for 5h)' },
      { time: '11:00', activity: 'E', duration: 30, note: 'Early lunch' },
      { time: '11:30', activity: 'S', duration: 150, note: 'SINGLE NAP (2-2.5h)' },
      { time: '14:00', activity: 'E+A', duration: 360, note: 'Snack + milk | WW2 = 6h' },
      { time: '16:00', activity: 'A', duration: 60, note: 'Afternoon snack' },
      { time: '18:00', activity: 'A', duration: 90, note: 'Dinner + bath' },
      { time: '20:00', activity: 'E+NIGHT', duration: 660, note: 'Night sleep' },
    ],
  },

  'E56_4.5-5.5': {
    id: 'E56_4.5-5.5',
    name: 'E.A.S.Y. 5-6 Variant (4.5-5.5)',
    nameVi: 'E.A.S.Y. 5-6 Biến thể (4.5-5.5)',
    ageRange: { min: 56, max: 70 },
    wakeWindows: [270, 330],
    napCount: 1,
    typicalNapDurations: [150],
    totalWakeTarget: { min: 10, max: 11 },
    totalSleepTarget: { min: 12.5, max: 13.5 },
    sleepDebtThreshold: 12,
    schedule: [
      { time: '07:00', activity: 'E+A', duration: 270, note: 'WW1 = 4.5h' },
      { time: '11:00', activity: 'E', duration: 30, note: 'Lunch' },
      { time: '11:30', activity: 'S', duration: 150, note: 'Nap (2-2.5h)' },
      { time: '14:00', activity: 'E+A', duration: 330, note: 'WW2 = 5.5h' },
      { time: '16:00', activity: 'A', duration: 60, note: 'Snack' },
      { time: '18:00', activity: 'A', duration: 90, note: 'Dinner + bath' },
      { time: '19:30', activity: 'E+NIGHT', duration: 690, note: 'Night sleep' },
    ],
  },

  'E56_4.5-6': {
    id: 'E56_4.5-6',
    name: 'E.A.S.Y. 5-6 Variant (4.5-6)',
    nameVi: 'E.A.S.Y. 5-6 Biến thể (4.5-6)',
    ageRange: { min: 56, max: 70 },
    wakeWindows: [270, 360],
    napCount: 1,
    typicalNapDurations: [150],
    totalWakeTarget: { min: 10.5, max: 11 },
    totalSleepTarget: { min: 12.5, max: 13.5 },
    sleepDebtThreshold: 12,
    schedule: [
      { time: '07:00', activity: 'E+A', duration: 270, note: 'WW1 = 4.5h' },
      { time: '11:00', activity: 'E', duration: 30, note: 'Lunch' },
      { time: '11:30', activity: 'S', duration: 150, note: 'Nap' },
      { time: '14:00', activity: 'E+A', duration: 360, note: 'WW2 = 6h' },
      { time: '16:00', activity: 'A', duration: 60, note: 'Snack' },
      { time: '18:30', activity: 'A', duration: 90, note: 'Dinner + bath' },
      { time: '20:00', activity: 'E+NIGHT', duration: 660, note: 'Night sleep' },
    ],
  },

  'E5-6': {
    id: 'E5-6',
    name: 'E.A.S.Y. 5-6 (STANDARD)',
    nameVi: 'E.A.S.Y. 5-6 (TIÊU CHUẨN)',
    ageRange: { min: 56, max: 100 },
    wakeWindows: [300, 360],
    napCount: 1,
    typicalNapDurations: [150],
    totalWakeTarget: { min: 11, max: 11.5 },
    totalSleepTarget: { min: 12.5, max: 13.5 },
    sleepDebtThreshold: 12,
    isGoldStandard: true,
    description: 'Final milestone - single nap schedule for 14+ months',
    descriptionVi: 'Cột mốc cuối - lịch 1 giấc cho bé 14+ tháng',
    schedule: [
      { time: '07:00', activity: 'E+A', duration: 300, note: 'Breakfast | WW1 = 5h' },
      { time: '11:30', activity: 'E', duration: 30, note: 'Lunch' },
      { time: '12:00', activity: 'S', duration: 150, note: 'SINGLE NAP (2-2.5h)' },
      { time: '14:30', activity: 'E+A', duration: 360, note: 'Snack + milk | WW2 = 6h' },
      { time: '16:00', activity: 'A', duration: 60, note: 'Afternoon snack' },
      { time: '18:00', activity: 'A', duration: 90, note: 'Dinner + bath' },
      { time: '20:30', activity: 'E+NIGHT', duration: 630, note: 'Night sleep' },
    ],
    sleepDebtSigns: ['Hyperactive in evening', 'Irritable/cranky', 'Poor appetite', 'Sleep less than 12h total'],
  },

  'E56_5.5-5.5': {
    id: 'E56_5.5-5.5',
    name: 'E.A.S.Y. 5-6 Variant (5.5-5.5)',
    nameVi: 'E.A.S.Y. 5-6 Biến thể (5.5-5.5)',
    ageRange: { min: 56, max: 100 },
    wakeWindows: [330, 330],
    napCount: 1,
    typicalNapDurations: [120],
    totalWakeTarget: { min: 11, max: 11.5 },
    totalSleepTarget: { min: 12.5, max: 13 },
    sleepDebtThreshold: 12,
    purpose: 'Balanced WW morning/afternoon. Good for families with late schedule.',
    schedule: [
      { time: '07:00', activity: 'E+A', duration: 330, note: 'WW1 = 5.5h' },
      { time: '11:30', activity: 'E', duration: 30, note: 'Lunch' },
      { time: '12:30', activity: 'S', duration: 120, note: 'Nap (2h)' },
      { time: '14:30', activity: 'E+A', duration: 330, note: 'WW2 = 5.5h' },
      { time: '16:30', activity: 'A', duration: 60, note: 'Snack' },
      { time: '18:30', activity: 'A', duration: 90, note: 'Dinner + bath' },
      { time: '20:00', activity: 'E+NIGHT', duration: 660, note: 'Night sleep' },
    ],
  },

  'E56_5.5-5': {
    id: 'E56_5.5-5',
    name: 'E.A.S.Y. 5-6 Variant (5.5-5)',
    nameVi: 'E.A.S.Y. 5-6 Biến thể (5.5-5)',
    ageRange: { min: 56, max: 100 },
    wakeWindows: [330, 300],
    napCount: 1,
    typicalNapDurations: [150],
    totalWakeTarget: { min: 10.5, max: 11 },
    totalSleepTarget: { min: 12.5, max: 13.5 },
    sleepDebtThreshold: 12,
    purpose: 'For babies with long nap (2.5h)',
    schedule: [
      { time: '07:00', activity: 'E+A', duration: 330, note: 'WW1 = 5.5h' },
      { time: '11:30', activity: 'E', duration: 30, note: 'Lunch' },
      { time: '12:30', activity: 'S', duration: 150, note: 'Nap (2.5h)' },
      { time: '15:00', activity: 'E+A', duration: 300, note: 'WW2 = 5h' },
      { time: '16:30', activity: 'A', duration: 60, note: 'Snack' },
      { time: '18:30', activity: 'A', duration: 90, note: 'Dinner + bath' },
      { time: '20:00', activity: 'E+NIGHT', duration: 660, note: 'Night sleep' },
    ],
  },
};

// Age-Based Schedule Recommendations
export const AGE_SCHEDULE_MAP: Record<string, AgeScheduleRecommendation> = {
  '0-6': {
    primary: 'E3',
    variants: [],
    description: 'Newborn phase - survival mode, establish feeding',
    descriptionVi: 'Giai đoạn sơ sinh - chế độ sinh tồn, thiết lập bú',
  },
  '6-8': {
    primary: 'E3.5',
    variants: ['E3.15'],
    description: 'Transition phase - baby becoming more alert',
    descriptionVi: 'Giai đoạn chuyển tiếp - bé tỉnh táo hơn',
  },
  '8-12': {
    primary: 'E3.75',
    variants: ['E3.5+4'],
    description: 'Moving toward E4',
    descriptionVi: 'Chuyển sang E4',
  },
  '10-17': {
    primary: 'E4',
    variants: [],
    description: 'Backbone schedule - most stable period',
    descriptionVi: 'Lịch xương sống - giai đoạn ổn định nhất',
  },
  '14-20': {
    primary: 'E4',
    variants: ['E4_2-2-2-2.5', 'E4_2-2.15-2-2.15', 'E4_2-2-2.15-2.15'],
    description: '4-month sleep regression - variants help increase sleep pressure',
    descriptionVi: 'Khủng hoảng ngủ 4 tháng - biến thể giúp tăng áp lực ngủ',
  },
  '16-26': {
    primary: 'E2-3-4',
    variants: ['E2.5-2.5-3', 'E2-2.5-3.5', 'E2-3-3', 'E2-2.5-4', 'E4_delayed30'],
    description: 'Transition to 2 naps - GOLD STANDARD schedule',
    descriptionVi: 'Chuyển sang 2 giấc - lịch TIÊU CHUẨN VÀNG',
  },
  '26-44': {
    primary: 'E2-3-4',
    variants: ['E2.5-3-4', 'E2.5-3-4.5', 'E2.5-2.5-4'],
    description: '2 naps consolidated - longer wake windows',
    descriptionVi: '2 giấc ổn định - thời gian thức dài hơn',
  },
  '40-50': {
    primary: 'E3-3-4',
    variants: [],
    description: 'Pre-toddler - preparing for 1 nap transition',
    descriptionVi: 'Trước tuổi chập chững - chuẩn bị chuyển 1 giấc',
  },
  '51-57': {
    primary: 'E3-3-4',
    variants: ['E56_3.5-3-4', 'E56_3-3-4.5', 'E56_3.15-3.15-4'],
    description: 'Transition phase - some days 2 naps, some days 1',
    descriptionVi: 'Giai đoạn chuyển tiếp - có ngày 2 giấc, có ngày 1',
  },
  '56-65': {
    primary: 'E5-6',
    variants: ['E56_4-6', 'E56_4.5-5.5', 'E56_4.5-6', 'E56_5.5-5.5', 'E56_5.5-5'],
    description: '1 nap only - final major milestone',
    descriptionVi: 'Chỉ 1 giấc - cột mốc quan trọng cuối cùng',
  },
};

// Sleep Requirements by Age
export const SLEEP_REQUIREMENTS: SleepRequirement[] = [
  {
    ageWeeks: { min: 0, max: 6 },
    totalSleep: { min: 16, max: 18 },
    totalWake: { min: 6, max: 7 },
    warningThreshold: 15,
    sleepDebtSigns: [
      'Crying during witching hour (5-7pm)',
      'Arching back while feeding',
      'Constant startling/jerking',
      'Inconsolable crying',
    ],
  },
  {
    ageWeeks: { min: 6, max: 12 },
    totalSleep: { min: 15.5, max: 17 },
    totalWake: { min: 7, max: 8 },
    warningThreshold: 14.5,
    sleepDebtSigns: ['Catnapping (20min naps)', 'Difficulty falling asleep at night', 'Crying before naps'],
  },
  {
    ageWeeks: { min: 12, max: 19 },
    totalSleep: { min: 14.5, max: 15.5 },
    totalWake: { min: 8, max: 9 },
    warningThreshold: 14,
    sleepDebtSigns: ['Multiple night wakings (every 2h)', 'Early morning waking (4-5am)', 'Crying at bedtime'],
  },
  {
    ageWeeks: { min: 16, max: 26 },
    totalSleep: { min: 14, max: 15 },
    totalWake: { min: 8.5, max: 9.5 },
    warningThreshold: 13.5,
    sleepDebtSigns: [
      'Refuses Nap 3 but overtired at bedtime',
      'Split night (awake 1-2h in middle of night)',
      'Restless sleep',
    ],
  },
  {
    ageWeeks: { min: 26, max: 40 },
    totalSleep: { min: 13.5, max: 14.5 },
    totalWake: { min: 9, max: 10 },
    warningThreshold: 13,
    sleepDebtSigns: ['Early rising (5am consistently)', 'Nap 1 becomes short (30min)', 'Overtired but fighting sleep'],
  },
  {
    ageWeeks: { min: 40, max: 52 },
    totalSleep: { min: 13, max: 14 },
    totalWake: { min: 10, max: 10.5 },
    warningThreshold: 12.5,
    sleepDebtSigns: ['Intense sleep fighting', 'Standing in crib screaming', 'Night terrors/nightmares'],
  },
  {
    ageWeeks: { min: 52, max: 100 },
    totalSleep: { min: 12.5, max: 13.5 },
    totalWake: { min: 11, max: 11.5 },
    warningThreshold: 12,
    sleepDebtSigns: ['Hyperactive in evening', 'Irritable/cranky all day', 'Poor appetite', 'Resisting bedtime routine'],
  },
];

// Helper to get all schedule IDs
export const ALL_SCHEDULE_IDS = Object.keys(SCHEDULES) as ScheduleType[];

// Get schedule by ID
export function getScheduleById(id: ScheduleType): ScheduleData | undefined {
  return SCHEDULES[id];
}

// Get schedules for a specific age group
export function getSchedulesForAge(ageWeeks: number): ScheduleData[] {
  return ALL_SCHEDULE_IDS.filter((id) => {
    const schedule = SCHEDULES[id];
    return ageWeeks >= schedule.ageRange.min && ageWeeks <= schedule.ageRange.max;
  }).map((id) => SCHEDULES[id]);
}
